.navmenu--expanding.navmenu {
  $horizontal-padding: 10px;
  $vertical-padding: 5px;
  ul.navmenu__list {
    @include flex(1 0 100%);
    flex-direction: column;
  }

  > ul {
    > li {
      
    }
  }

  li {
    @include flex(1 0 auto);
    @include flexbox;
    flex-wrap: wrap;
    padding: 0;

    a {
      @include rem('padding', $vertical-padding $horizontal-padding);
    }
    
  }

  .navmenu__menu-item--has-dropdown {
    // position: relative;
    &:hover {
      > .navmenu__list {
        display: none;
      }
    }

    &.open,
    &.open:hover {
      > ul.navmenu__list {
        @include flexbox;
        // position: static;
      }
    }

    .dropdown-toggle {
      @include rem('max-height', $navmenu-line-height);
      @include rem('padding-left', $horizontal-padding);
      @include rem('padding-right', $horizontal-padding);
    }

    .navmenu__list {
      display: none;
      transition: display 2s ease-in-out 1s;

      li {
        text-align: left;
      }

      &.navmenu__list--depth-1 {

        li {
          @include rem('margin-left', -5px);
          @include rem('margin-right', -5px);

          a {
            @include rem('padding-left', 2 * $horizontal-padding);
            @include rem('padding-right', 2 * $horizontal-padding);
          }
        }
      }

      &.navmenu__list--depth-2 {

        li {
          @include rem('margin-left', -5px);
          @include rem('margin-right', -5px);

          a {
            @include rem('padding-left', 3 * $horizontal-padding);
            @include rem('padding-right', 3 * $horizontal-padding);
          }
        }
      }

      &.navmenu__list--depth-3 {

        li {
          @include rem('margin-left', -5px);
          @include rem('margin-right', -5px);

          a {
            @include rem('padding-left', 4 * $horizontal-padding);
            @include rem('padding-right', 4 * $horizontal-padding);
          }
        }
      }
    }
  }
}

